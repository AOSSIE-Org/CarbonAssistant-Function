# A simple skill test suite for google assistant
--- # Configuration YAML document
configuration:
  locale: en-US

--- 
- test: sector direct query test
- sector_intent: # When queried directly and sector type and sector region is provided
  - request.queryResult.queryText: "emissions due to energy sector in India"
  - request.queryResult.parameters.sector_type: "energy" 
  - request.queryResult.parameters.sector_region: "India"  
  - request.queryResult.intent.displayName: "sector_intent"
  - request.queryResult.outputContexts[0].name: "projects/co2-gal/agent/sessions/ABwppHEHSl6EAoVDJYJws_gopJHa5RxYj-ljCUpwRaU7fvSx3CbSe6m-g6VvICCjwjMiLE_Alg/contexts/sector_intent-followup"
  - request.queryResult.outputContexts[0].parameters.sector_type: "energy"
  - request.queryResult.outputContexts[0].parameters["sector_type.original"]: "energy"
  - request.queryResult.outputContexts[0].parameters.sector_region: "India"
  - request.queryResult.outputContexts[0].parameters["sector_region.original"]: "India"
  - request.queryResult.outputContexts[0].lifespanCount: 2
  - request.queryResult.outputContexts[1].name: "projects/co2-gal/agent/sessions/ABwppHEHSl6EAoVDJYJws_gopJHa5RxYj-ljCUpwRaU7fvSx3CbSe6m-g6VvICCjwjMiLE_Alg/contexts/actions_capability_media_response_audio"
  - request.queryResult.outputContexts[1].parameters.sector_type: "energy"
  - request.queryResult.outputContexts[1].parameters["sector_type.original"]: "energy"
  - request.queryResult.outputContexts[1].parameters.sector_region: "India"
  - request.queryResult.outputContexts[1].parameters["sector_region.original"]: "India" 
  - request.queryResult.outputContexts[2].name: "projects/co2-gal/agent/sessions/ABwppHEHSl6EAoVDJYJws_gopJHa5RxYj-ljCUpwRaU7fvSx3CbSe6m-g6VvICCjwjMiLE_Alg/contexts/actions_capability_account_linking"
  - request.queryResult.outputContexts[2].parameters.sector_type: "energy"
  - request.queryResult.outputContexts[2].parameters["sector_type.original"]: "energy"
  - request.queryResult.outputContexts[2].parameters.sector_region: "India"
  - request.queryResult.outputContexts[2].parameters["sector_region.original"]: "India"
  - request.queryResult.outputContexts[3].name: "projects/co2-gal/agent/sessions/ABwppHEHSl6EAoVDJYJws_gopJHa5RxYj-ljCUpwRaU7fvSx3CbSe6m-g6VvICCjwjMiLE_Alg/contexts/actions_capability_web_browser"
  - request.queryResult.outputContexts[3].parameters.sector_type: "energy"
  - request.queryResult.outputContexts[3].parameters["sector_type.original"]: "energy"
  - request.queryResult.outputContexts[3].parameters.sector_region: "India"
  - request.queryResult.outputContexts[3].parameters["sector_region.original"]: "India"
  - request.queryResult.outputContexts[4].name: "projects/co2-gal/agent/sessions/ABwppHEHSl6EAoVDJYJws_gopJHa5RxYj-ljCUpwRaU7fvSx3CbSe6m-g6VvICCjwjMiLE_Alg/contexts/actions_capability_screen_output"
  - request.queryResult.outputContexts[4].parameters.sector_type: "energy"
  - request.queryResult.outputContexts[4].parameters["sector_type.original"]: "energy"
  - request.queryResult.outputContexts[4].parameters.sector_region: "India"
  - request.queryResult.outputContexts[4].parameters["sector_region.original"]: "India"
  - request.queryResult.outputContexts[5].name: "projects/co2-gal/agent/sessions/ABwppHEHSl6EAoVDJYJws_gopJHa5RxYj-ljCUpwRaU7fvSx3CbSe6m-g6VvICCjwjMiLE_Alg/contexts/actions_capability_audio_output"
  - request.queryResult.outputContexts[5].parameters.sector_type: "energy"
  - request.queryResult.outputContexts[5].parameters["sector_type.original"]: "energy"
  - request.queryResult.outputContexts[5].parameters.sector_region: "India"
  - request.queryResult.outputContexts[5].parameters["sector_region.original"]: "India"
  - request.queryResult.outputContexts[6].name: "projects/co2-gal/agent/sessions/ABwppHEHSl6EAoVDJYJws_gopJHa5RxYj-ljCUpwRaU7fvSx3CbSe6m-g6VvICCjwjMiLE_Alg/contexts/google_assistant_input_type_keyboard"
  - request.queryResult.outputContexts[6].parameters.sector_type: "energy"
  - request.queryResult.outputContexts[6].parameters["sector_type.original"]: "energy"
  - request.queryResult.outputContexts[6].parameters.sector_region: "India"
  - request.queryResult.outputContexts[6].parameters["sector_region.original"]: "India"
  - request.originalDetectIntentRequest.payload.inputs[0].rawInputs[0].query: "emissions due to energy sector in India"
  - request.originalDetectIntentRequest.payload.inputs[0].rawInputs[0].inputType: "KEYBOARD"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[0].name: "text"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[0].textValue: "emissions due to energy sector in India"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[0].rawText: "emissions due to energy sector in India"
  - request.originalDetectIntentRequest.payload.inputs[0].intent: "actions.intent.TEXT"
  - request.originalDetectIntentRequest.payload.user.userStorage: "{\"data\":{\"noPermission\":false,\"lastParams\":{\"emission_type\":\"\",\"fuel_type\":\"\",\"fuel_original\":\"\",\"quantity\":\"\"},\"name\":{\"display\":\"Stream Co\",\"family\":\"Co\",\"given\":\"Stream\"},\"location\":{\"coordinates\":{\"latitude\":20.26828,\"longitude\":85.7769064},\"formattedAddress\":\"Khandagiri, Bhubaneswar, Odisha \",\"city\":\"Bhubaneswar\"}}}"
  - request.originalDetectIntentRequest.payload.surface.capabilities[0].name: "actions.capability.SCREEN_OUTPUT"
  - request.originalDetectIntentRequest.payload.surface.capabilities[1].name: "actions.capability.MEDIA_RESPONSE_AUDIO"
  - request.originalDetectIntentRequest.payload.surface.capabilities[2].name: "actions.capability.AUDIO_OUTPUT"
  - request.originalDetectIntentRequest.payload.surface.capabilities[3].name: "actions.capability.ACCOUNT_LINKING"
  - request.originalDetectIntentRequest.payload.surface.capabilities[4].name: "actions.capability.WEB_BROWSER"
  - request.originalDetectIntentRequest.payload.availableSurfaces[0].capabilities[0].name: "actions.capability.WEB_BROWSER"
  - request.originalDetectIntentRequest.payload.availableSurfaces[0].capabilities[1].name: "actions.capability.AUDIO_OUTPUT"
  - request.originalDetectIntentRequest.payload.availableSurfaces[0].capabilities[2].name: "actions.capability.SCREEN_OUTPUT"
  - payload.google.richResponse.items[0].simpleResponse.displayText: "1296650 gigagrams"
  - payload.google.richResponse.items[1].basicCard.formattedText: "To see some visuals click the button"
  - payload.google.richResponse.items[1].basicCard.buttons[0].title: "See More"
  - payload.google.richResponse.items[1].basicCard.buttons[0].openUrlAction.url: "https://carbonhub.org/visuals/sector"
---

---
- test: sector wizard system test
- sector_intent: # Tests for sector type list
  - request.queryResult.queryText: "India"
  - request.queryResult.parameters.sector_type: ""  
  - request.queryResult.parameters.sector_region: "India"  
  - request.queryResult.intent.displayName: "sector_intent"
  - request.queryResult.outputContexts[0].name: "projects/co2-gal/agent/sessions/ABwppHEft1uR9-_yiFsVgDXLXqya1olA5aLs551fOuPII_VG1xWVz0ZRodkPVLQkaVw4jzRPqA/contexts/sector_intent-followup"
  - request.queryResult.outputContexts[0].parameters.sector_type: ""
  - request.queryResult.outputContexts[0].parameters["sector_type.original"]: ""
  - request.queryResult.outputContexts[0].parameters.sector_region: "India"
  - request.queryResult.outputContexts[0].parameters["sector_region.original"]: "India"
  - request.queryResult.outputContexts[0].lifespanCount: 2
  - request.queryResult.outputContexts[1].name: "projects/co2-gal/agent/sessions/ABwppHEft1uR9-_yiFsVgDXLXqya1olA5aLs551fOuPII_VG1xWVz0ZRodkPVLQkaVw4jzRPqA/contexts/actions_capability_account_linking"
  - request.queryResult.outputContexts[1].parameters.sector_type: ""
  - request.queryResult.outputContexts[1].parameters["sector_type.original"]: ""
  - request.queryResult.outputContexts[1].parameters.sector_region: "India"
  - request.queryResult.outputContexts[1].parameters["sector_region.original"]: "India" 
  - request.queryResult.outputContexts[2].name: "projects/co2-gal/agent/sessions/ABwppHEft1uR9-_yiFsVgDXLXqya1olA5aLs551fOuPII_VG1xWVz0ZRodkPVLQkaVw4jzRPqA/contexts/actions_capability_screen_output"
  - request.queryResult.outputContexts[2].parameters.sector_type: ""
  - request.queryResult.outputContexts[2].parameters["sector_type.original"]: ""
  - request.queryResult.outputContexts[2].parameters.sector_region: "India"
  - request.queryResult.outputContexts[2].parameters["sector_region.original"]: "India"
  - request.queryResult.outputContexts[3].name: "projects/co2-gal/agent/sessions/ABwppHEft1uR9-_yiFsVgDXLXqya1olA5aLs551fOuPII_VG1xWVz0ZRodkPVLQkaVw4jzRPqA/contexts/actions_capability_web_browser"
  - request.queryResult.outputContexts[3].parameters.sector_type: ""
  - request.queryResult.outputContexts[3].parameters["sector_type.original"]: ""
  - request.queryResult.outputContexts[3].parameters.sector_region: "India"
  - request.queryResult.outputContexts[3].parameters["sector_region.original"]: "India"
  - request.queryResult.outputContexts[4].name: "projects/co2-gal/agent/sessions/ABwppHEft1uR9-_yiFsVgDXLXqya1olA5aLs551fOuPII_VG1xWVz0ZRodkPVLQkaVw4jzRPqA/contexts/actions_capability_audio_output"
  - request.queryResult.outputContexts[4].parameters.sector_type: ""
  - request.queryResult.outputContexts[4].parameters["sector_type.original"]: ""
  - request.queryResult.outputContexts[4].parameters.sector_region: "India"
  - request.queryResult.outputContexts[4].parameters["sector_region.original"]: "India"
  - request.queryResult.outputContexts[5].name: "projects/co2-gal/agent/sessions/ABwppHEft1uR9-_yiFsVgDXLXqya1olA5aLs551fOuPII_VG1xWVz0ZRodkPVLQkaVw4jzRPqA/contexts/actions_capability_media_response_audio"
  - request.queryResult.outputContexts[5].parameters.sector_type: ""
  - request.queryResult.outputContexts[5].parameters["sector_type.original"]: ""
  - request.queryResult.outputContexts[5].parameters.sector_region: "India"
  - request.queryResult.outputContexts[5].parameters["sector_region.original"]: "India"
  - request.queryResult.outputContexts[6].name: "projects/co2-gal/agent/sessions/ABwppHEft1uR9-_yiFsVgDXLXqya1olA5aLs551fOuPII_VG1xWVz0ZRodkPVLQkaVw4jzRPqA/contexts/google_assistant_input_type_keyboard"
  - request.queryResult.outputContexts[6].parameters.sector_type: ""
  - request.queryResult.outputContexts[6].parameters["sector_type.original"]: ""
  - request.queryResult.outputContexts[6].parameters.sector_region: "India"
  - request.queryResult.outputContexts[6].parameters["sector_region.original"]: "India"
  - request.queryResult.outputContexts[7].name: "projects/co2-gal/agent/sessions/ABwppHEft1uR9-_yiFsVgDXLXqya1olA5aLs551fOuPII_VG1xWVz0ZRodkPVLQkaVw4jzRPqA/contexts/sector_intent_triggered"
  - request.queryResult.outputContexts[7].parameters.sector_type: ""
  - request.queryResult.outputContexts[7].parameters["sector_type.original"]: ""
  - request.queryResult.outputContexts[7].parameters.sector_region: "India"
  - request.queryResult.outputContexts[7].parameters["sector_region.original"]: "India"
  - request.queryResult.outputContexts[8].name: "projects/co2-gal/agent/sessions/ABwppHEft1uR9-_yiFsVgDXLXqya1olA5aLs551fOuPII_VG1xWVz0ZRodkPVLQkaVw4jzRPqA/contexts/menu_intent-followup"
  - request.queryResult.outputContexts[8].parameters.sector_type: ""
  - request.queryResult.outputContexts[8].parameters["sector_type.original"]: ""
  - request.queryResult.outputContexts[8].parameters.sector_region: "India"
  - request.queryResult.outputContexts[8].parameters["sector_region.original"]: "India"
  - request.queryResult.outputContexts[8].lifespanCount: 3
  - request.originalDetectIntentRequest.payload.inputs[0].rawInputs[0].query: "India"
  - request.originalDetectIntentRequest.payload.inputs[0].rawInputs[0].inputType: "KEYBOARD"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[0].name: "text"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[0].textValue: "India"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[0].rawText: "India"
  - request.originalDetectIntentRequest.payload.inputs[0].intent: "actions.intent.TEXT"
  - request.originalDetectIntentRequest.payload.surface.capabilities[0].name: "actions.capability.SCREEN_OUTPUT"
  - request.originalDetectIntentRequest.payload.surface.capabilities[1].name: "actions.capability.MEDIA_RESPONSE_AUDIO"
  - request.originalDetectIntentRequest.payload.surface.capabilities[2].name: "actions.capability.AUDIO_OUTPUT"
  - request.originalDetectIntentRequest.payload.surface.capabilities[3].name: "actions.capability.ACCOUNT_LINKING"
  - request.originalDetectIntentRequest.payload.surface.capabilities[4].name: "actions.capability.WEB_BROWSER"
  - request.originalDetectIntentRequest.payload.availableSurfaces[0].capabilities[0].name: "actions.capability.WEB_BROWSER"
  - request.originalDetectIntentRequest.payload.availableSurfaces[0].capabilities[1].name: "actions.capability.AUDIO_OUTPUT"
  - request.originalDetectIntentRequest.payload.availableSurfaces[0].capabilities[2].name: "actions.capability.SCREEN_OUTPUT"
  - request.originalDetectIntentRequest.payload.user.userStorage: "{\"data\":{\"noPermission\":false,\"lastParams\":{\"sector_region\":\"China\",\"sector_type\":\"industry\"},\"name\":{\"display\":\"Stream Co\",\"family\":\"Co\",\"given\":\"Stream\"},\"location\":{\"coordinates\":{\"latitude\":20.26828,\"longitude\":85.7769064},\"formattedAddress\":\"Khandagiri, Bhubaneswar, Odisha \",\"city\":\"Bhubaneswar\"}}}"
  - payload.google.systemIntent.data.listSelect.title: "Sector Types List"
  - payload.google.systemIntent.data.listSelect.items[0].description: "The energy sector is a category of stocks that relate to producing or supplying energy"
  - payload.google.systemIntent.data.listSelect.items[0].image.url: "https://firebasestorage.googleapis.com/v0/b/co2-gal.appspot.com/o/electricity.png?alt=media&token=f0bdcf45-1b3d-4db0-ba3e-609f10de6670"
  - payload.google.systemIntent.data.listSelect.items[0].title: "energy"
  - payload.google.systemIntent.data.listSelect.items[1].description: "The industry sector is the one that makes finished products which can then be further utilized by other sectors"
  - payload.google.systemIntent.data.listSelect.items[1].image.url: "https://firebasestorage.googleapis.com/v0/b/co2-gal.appspot.com/o/industry.png?alt=media&token=b8abab80-fd05-4505-93f0-54e88e2fc1f4"
  - payload.google.systemIntent.data.listSelect.items[1].title: "industry"
  - payload.google.systemIntent.data.listSelect.items[2].description: "Waste sector is considered to include municipal or domestic waste and industrial waste"
  - payload.google.systemIntent.data.listSelect.items[2].image.url: "https://firebasestorage.googleapis.com/v0/b/co2-gal.appspot.com/o/waste.png?alt=media&token=85ad5480-1361-4a76-96f0-9a5fb7f51f2a"
  - payload.google.systemIntent.data.listSelect.items[2].title: "waste"
  - payload.google.richResponse.items[0].simpleResponse.textToSpeech: "This is the list of sector types Please choose one So, that I can provide you the exact value of the emission."
---

---
- test: wizard system test 
- sector_intent_followup: # Tests wizard system when the sector type is selected from the list
  - request.queryResult.queryText: "actions_intent_OPTION"
  - request.queryResult.action: "sector_intent.sector_intent-custom"
  - request.queryResult.parameters.sector_type: ""  
  - request.queryResult.parameters.sector_region: ""  
  - request.queryResult.intent.displayName: "sector_intent_followup"
  - request.queryResult.outputContexts[0].name: "projects/co2-gal/agent/sessions/ABwppHEft1uR9-_yiFsVgDXLXqya1olA5aLs551fOuPII_VG1xWVz0ZRodkPVLQkaVw4jzRPqA/contexts/actions_capability_audio_output"
  - request.queryResult.outputContexts[0].parameters.sector_type: ""
  - request.queryResult.outputContexts[0].parameters["sector_type.original"]: ""
  - request.queryResult.outputContexts[0].parameters.sector_region: ""
  - request.queryResult.outputContexts[0].parameters["sector_region.original"]: ""
  - request.queryResult.outputContexts[1].name: "projects/co2-gal/agent/sessions/ABwppHEft1uR9-_yiFsVgDXLXqya1olA5aLs551fOuPII_VG1xWVz0ZRodkPVLQkaVw4jzRPqA/contexts/actions_capability_screen_output"
  - request.queryResult.outputContexts[1].parameters.sector_type: ""
  - request.queryResult.outputContexts[1].parameters["sector_type.original"]: ""
  - request.queryResult.outputContexts[1].parameters.sector_region: ""
  - request.queryResult.outputContexts[1].parameters["sector_region.original"]: "" 
  - request.queryResult.outputContexts[2].name: "projects/co2-gal/agent/sessions/ABwppHEft1uR9-_yiFsVgDXLXqya1olA5aLs551fOuPII_VG1xWVz0ZRodkPVLQkaVw4jzRPqA/contexts/actions_capability_account_linking"
  - request.queryResult.outputContexts[2].parameters.sector_type: ""
  - request.queryResult.outputContexts[2].parameters["sector_type.original"]: ""
  - request.queryResult.outputContexts[2].parameters.sector_region: ""
  - request.queryResult.outputContexts[2].parameters["sector_region.original"]: ""
  - request.queryResult.outputContexts[3].name: "projects/co2-gal/agent/sessions/ABwppHEft1uR9-_yiFsVgDXLXqya1olA5aLs551fOuPII_VG1xWVz0ZRodkPVLQkaVw4jzRPqA/contexts/actions_capability_web_browser"
  - request.queryResult.outputContexts[3].parameters.sector_type: ""
  - request.queryResult.outputContexts[3].parameters["sector_type.original"]: ""
  - request.queryResult.outputContexts[3].parameters.sector_region: ""
  - request.queryResult.outputContexts[3].parameters["sector_region.original"]: ""
  - request.queryResult.outputContexts[4].name: "projects/co2-gal/agent/sessions/ABwppHEft1uR9-_yiFsVgDXLXqya1olA5aLs551fOuPII_VG1xWVz0ZRodkPVLQkaVw4jzRPqA/contexts/actions_capability_media_response_audio"
  - request.queryResult.outputContexts[4].parameters.sector_type: ""
  - request.queryResult.outputContexts[4].parameters["sector_type.original"]: ""
  - request.queryResult.outputContexts[4].parameters.sector_region: ""
  - request.queryResult.outputContexts[4].parameters["sector_region.original"]: ""
  - request.queryResult.outputContexts[5].name: "projects/co2-gal/agent/sessions/ABwppHEft1uR9-_yiFsVgDXLXqya1olA5aLs551fOuPII_VG1xWVz0ZRodkPVLQkaVw4jzRPqA/contexts/google_assistant_input_type_touch"
  - request.queryResult.outputContexts[5].parameters.sector_type: ""
  - request.queryResult.outputContexts[5].parameters["sector_type.original"]: ""
  - request.queryResult.outputContexts[5].parameters.sector_region: ""
  - request.queryResult.outputContexts[5].parameters["sector_region.original"]: ""
  - request.queryResult.outputContexts[6].name: "projects/co2-gal/agent/sessions/ABwppHEft1uR9-_yiFsVgDXLXqya1olA5aLs551fOuPII_VG1xWVz0ZRodkPVLQkaVw4jzRPqA/contexts/menu_intent-followup"
  - request.queryResult.outputContexts[6].parameters.sector_type: ""
  - request.queryResult.outputContexts[6].parameters["sector_type.original"]: ""
  - request.queryResult.outputContexts[6].parameters.sector_region: ""
  - request.queryResult.outputContexts[6].parameters["sector_region.original"]: ""
  - request.queryResult.outputContexts[6].lifespanCount: 2
  - request.queryResult.outputContexts[7].name: "projects/co2-gal/agent/sessions/ABwppHEft1uR9-_yiFsVgDXLXqya1olA5aLs551fOuPII_VG1xWVz0ZRodkPVLQkaVw4jzRPqA/contexts/sector_intent-followup"
  - request.queryResult.outputContexts[7].parameters.sector_type: ""
  - request.queryResult.outputContexts[7].parameters["sector_type.original"]: ""
  - request.queryResult.outputContexts[7].parameters.sector_region: ""
  - request.queryResult.outputContexts[7].parameters["sector_region.original"]: ""
  - request.queryResult.outputContexts[7].lifespanCount: 1
  - request.queryResult.outputContexts[8].name: "projects/co2-gal/agent/sessions/ABwppHEft1uR9-_yiFsVgDXLXqya1olA5aLs551fOuPII_VG1xWVz0ZRodkPVLQkaVw4jzRPqA/contexts/actions_intent_option"
  - request.queryResult.outputContexts[8].parameters.sector_type: ""
  - request.queryResult.outputContexts[8].parameters.OPTION: "energy"
  - request.queryResult.outputContexts[8].parameters.text: "energy"
  - request.queryResult.outputContexts[8].parameters["sector_type.original"]: ""
  - request.queryResult.outputContexts[8].parameters.sector_region: ""
  - request.queryResult.outputContexts[8].parameters["sector_region.original"]: ""
  - request.originalDetectIntentRequest.payload.inputs[0].rawInputs[0].query: "energy"
  - request.originalDetectIntentRequest.payload.inputs[0].rawInputs[0].inputType: "TOUCH"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[0].name: "OPTION"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[0].textValue: "energy"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[1].rawText: "energy"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[1].textValue: "energy"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[1].name: "text"
  - request.originalDetectIntentRequest.payload.inputs[0].intent: "actions.intent.OPTION"
  - request.originalDetectIntentRequest.payload.surface.capabilities[0].name: "actions.capability.SCREEN_OUTPUT"
  - request.originalDetectIntentRequest.payload.surface.capabilities[1].name: "actions.capability.MEDIA_RESPONSE_AUDIO"
  - request.originalDetectIntentRequest.payload.surface.capabilities[2].name: "actions.capability.AUDIO_OUTPUT"
  - request.originalDetectIntentRequest.payload.surface.capabilities[3].name: "actions.capability.ACCOUNT_LINKING"
  - request.originalDetectIntentRequest.payload.surface.capabilities[4].name: "actions.capability.WEB_BROWSER"
  - request.originalDetectIntentRequest.payload.availableSurfaces[0].capabilities[0].name: "actions.capability.WEB_BROWSER"
  - request.originalDetectIntentRequest.payload.availableSurfaces[0].capabilities[1].name: "actions.capability.AUDIO_OUTPUT"
  - request.originalDetectIntentRequest.payload.availableSurfaces[0].capabilities[2].name: "actions.capability.SCREEN_OUTPUT"
  - request.originalDetectIntentRequest.payload.user.userStorage: "{\"data\":{\"noPermission\":false,\"lastParams\":{\"sector_region\":\"India\",\"sector_type\":\"\"},\"name\":{\"display\":\"Stream Co\",\"family\":\"Co\",\"given\":\"Stream\"},\"location\":{\"coordinates\":{\"latitude\":20.26828,\"longitude\":85.7769064},\"formattedAddress\":\"Khandagiri, Bhubaneswar, Odisha \",\"city\":\"Bhubaneswar\"}}}"
  - payload.google.richResponse.items[0].simpleResponse.displayText: 1296650 gigagrams
  - payload.google.richResponse.items[1].basicCard.formattedText: "To see some visuals click the button"
  - payload.google.richResponse.items[1].basicCard.buttons[0].title: "See More"
  - payload.google.richResponse.items[1].basicCard.buttons[0].openUrlAction.url: "https://carbonhub.org/visuals/sector"
---

---
- test: sector followup test
- sector_intent_followup: # for a different sector type while the region is same
  - request.queryResult.queryText: "how about energy sector"
  - request.queryResult.action: "sector_intent.sector_intent-custom"
  - request.queryResult.parameters.sector_type: "energy"  
  - request.queryResult.parameters.sector_region: ""  
  - request.queryResult.intent.displayName: "sector_intent_followup"
  - request.queryResult.outputContexts[0].name: "projects/co2-gal/agent/sessions/ABwppHEft1uR9-_yiFsVgDXLXqya1olA5aLs551fOuPII_VG1xWVz0ZRodkPVLQkaVw4jzRPqA/contexts/actions_capability_audio_output"
  - request.queryResult.outputContexts[0].parameters.sector_type: "energy"
  - request.queryResult.outputContexts[0].parameters["sector_type.original"]: "energy"
  - request.queryResult.outputContexts[0].parameters.sector_region: ""
  - request.queryResult.outputContexts[0].parameters["sector_region.original"]: ""
  - request.queryResult.outputContexts[1].name: "projects/co2-gal/agent/sessions/ABwppHEft1uR9-_yiFsVgDXLXqya1olA5aLs551fOuPII_VG1xWVz0ZRodkPVLQkaVw4jzRPqA/contexts/actions_capability_screen_output"
  - request.queryResult.outputContexts[1].parameters.sector_type: "energy"
  - request.queryResult.outputContexts[1].parameters["sector_type.original"]: "energy"
  - request.queryResult.outputContexts[1].parameters.sector_region: ""
  - request.queryResult.outputContexts[1].parameters["sector_region.original"]: "" 
  - request.queryResult.outputContexts[2].name: "projects/co2-gal/agent/sessions/ABwppHEft1uR9-_yiFsVgDXLXqya1olA5aLs551fOuPII_VG1xWVz0ZRodkPVLQkaVw4jzRPqA/contexts/actions_capability_media_response_audio"
  - request.queryResult.outputContexts[2].parameters.sector_type: "energy"
  - request.queryResult.outputContexts[2].parameters["sector_type.original"]: "energy"
  - request.queryResult.outputContexts[2].parameters.sector_region: ""
  - request.queryResult.outputContexts[2].parameters["sector_region.original"]: ""
  - request.queryResult.outputContexts[3].name: "projects/co2-gal/agent/sessions/ABwppHEft1uR9-_yiFsVgDXLXqya1olA5aLs551fOuPII_VG1xWVz0ZRodkPVLQkaVw4jzRPqA/contexts/actions_capability_account_linking"
  - request.queryResult.outputContexts[3].parameters.sector_type: "energy"
  - request.queryResult.outputContexts[3].parameters["sector_type.original"]: "energy"
  - request.queryResult.outputContexts[3].parameters.sector_region: ""
  - request.queryResult.outputContexts[3].parameters["sector_region.original"]: ""
  - request.queryResult.outputContexts[4].name: "projects/co2-gal/agent/sessions/ABwppHEft1uR9-_yiFsVgDXLXqya1olA5aLs551fOuPII_VG1xWVz0ZRodkPVLQkaVw4jzRPqA/contexts/actions_capability_web_browser"
  - request.queryResult.outputContexts[4].parameters.sector_type: "energy"
  - request.queryResult.outputContexts[4].parameters["sector_type.original"]: "energy"
  - request.queryResult.outputContexts[4].parameters.sector_region: ""
  - request.queryResult.outputContexts[4].parameters["sector_region.original"]: ""
  - request.queryResult.outputContexts[5].name: "projects/co2-gal/agent/sessions/ABwppHEft1uR9-_yiFsVgDXLXqya1olA5aLs551fOuPII_VG1xWVz0ZRodkPVLQkaVw4jzRPqA/contexts/google_assistant_input_type_keyboard"
  - request.queryResult.outputContexts[5].parameters.sector_type: "energy"
  - request.queryResult.outputContexts[5].parameters["sector_type.original"]: "energy"
  - request.queryResult.outputContexts[5].parameters.sector_region: ""
  - request.queryResult.outputContexts[5].parameters["sector_region.original"]: ""
  - request.queryResult.outputContexts[6].name: "projects/co2-gal/agent/sessions/ABwppHEft1uR9-_yiFsVgDXLXqya1olA5aLs551fOuPII_VG1xWVz0ZRodkPVLQkaVw4jzRPqA/contexts/menu_intent-followup"
  - request.queryResult.outputContexts[6].parameters.sector_type: "energy"
  - request.queryResult.outputContexts[6].parameters["sector_type.original"]: "energy"
  - request.queryResult.outputContexts[6].parameters.sector_region: ""
  - request.queryResult.outputContexts[6].parameters["sector_region.original"]: ""
  - request.queryResult.outputContexts[0].lifespanCount: 1
  - request.queryResult.outputContexts[7].name: "projects/co2-gal/agent/sessions/ABwppHEft1uR9-_yiFsVgDXLXqya1olA5aLs551fOuPII_VG1xWVz0ZRodkPVLQkaVw4jzRPqA/contexts/sector_intent-followup"
  - request.queryResult.outputContexts[7].parameters.sector_type: "energy"
  - request.queryResult.outputContexts[7].parameters["sector_type.original"]: "energy"
  - request.queryResult.outputContexts[7].parameters.sector_region: ""
  - request.queryResult.outputContexts[7].parameters["sector_region.original"]: ""
  - request.originalDetectIntentRequest.payload.inputs[0].rawInputs[0].query: "how about energy sector"
  - request.originalDetectIntentRequest.payload.inputs[0].rawInputs[0].inputType: "KEYBOARD"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[0].name: "text"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[0].textValue: "how about energy sector"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[0].rawText: "how about energy sector"
  - request.originalDetectIntentRequest.payload.inputs[0].intent: "actions.intent.TEXT"
  - request.originalDetectIntentRequest.payload.user.userStorage: "{\"data\":{\"noPermission\":false,\"name\":{\"display\":\"Stream Co\",\"family\":\"Co\",\"given\":\"Stream\"},\"location\":{\"coordinates\":{\"latitude\":37.4219806,\"longitude\":-122.0841979}},\"lastParams\":{\"sector_region\":\"India\",\"sector_type\":\"industry\"}}}"
  - request.originalDetectIntentRequest.payload.surface.capabilities[0].name: "actions.capability.SCREEN_OUTPUT"
  - request.originalDetectIntentRequest.payload.surface.capabilities[1].name: "actions.capability.MEDIA_RESPONSE_AUDIO"
  - request.originalDetectIntentRequest.payload.surface.capabilities[2].name: "actions.capability.AUDIO_OUTPUT"
  - request.originalDetectIntentRequest.payload.surface.capabilities[3].name: "actions.capability.ACCOUNT_LINKING"
  - request.originalDetectIntentRequest.payload.surface.capabilities[4].name: "actions.capability.WEB_BROWSER"
  - request.originalDetectIntentRequest.payload.availableSurfaces[0].capabilities[0].name: "actions.capability.WEB_BROWSER"
  - request.originalDetectIntentRequest.payload.availableSurfaces[0].capabilities[1].name: "actions.capability.AUDIO_OUTPUT"
  - request.originalDetectIntentRequest.payload.availableSurfaces[0].capabilities[2].name: "actions.capability.SCREEN_OUTPUT"
  - payload.google.richResponse.items[0].simpleResponse.displayText: "1296650 gigagrams"
  - payload.google.richResponse.items[1].basicCard.formattedText: "To see some visuals click the button"
  - payload.google.richResponse.items[1].basicCard.buttons[0].title: "See More"
  - payload.google.richResponse.items[1].basicCard.buttons[0].openUrlAction.url: "https://carbonhub.org/visuals/sector"
---

---
- test: #Followup intent test
- sector_intent_followup: # for a different sector region while the sector type is same
  - request.queryResult.queryText: "how about in China"
  - request.queryResult.action: "sector_intent.sector_intent-custom"
  - request.queryResult.parameters.sector_type: ""  
  - request.queryResult.parameters.sector_region: "China"  
  - request.queryResult.intent.displayName: "sector_intent_followup"
  - request.queryResult.outputContexts[0].name: "projects/co2-gal/agent/sessions/ABwppHEft1uR9-_yiFsVgDXLXqya1olA5aLs551fOuPII_VG1xWVz0ZRodkPVLQkaVw4jzRPqA/contexts/actions_capability_audio_output"
  - request.queryResult.outputContexts[0].parameters.sector_type: ""
  - request.queryResult.outputContexts[0].parameters["sector_type.original"]: ""
  - request.queryResult.outputContexts[0].parameters.sector_region: "China"
  - request.queryResult.outputContexts[0].parameters["sector_region.original"]: "China"
  - request.queryResult.outputContexts[1].name: "projects/co2-gal/agent/sessions/ABwppHEft1uR9-_yiFsVgDXLXqya1olA5aLs551fOuPII_VG1xWVz0ZRodkPVLQkaVw4jzRPqA/contexts/actions_capability_screen_output"
  - request.queryResult.outputContexts[1].parameters.sector_type: ""
  - request.queryResult.outputContexts[1].parameters["sector_type.original"]: ""
  - request.queryResult.outputContexts[1].parameters.sector_region: "China"
  - request.queryResult.outputContexts[1].parameters["sector_region.original"]: "China" 
  - request.queryResult.outputContexts[2].name: "projects/co2-gal/agent/sessions/ABwppHEft1uR9-_yiFsVgDXLXqya1olA5aLs551fOuPII_VG1xWVz0ZRodkPVLQkaVw4jzRPqA/contexts/actions_capability_media_response_audio"
  - request.queryResult.outputContexts[2].parameters.sector_type: ""
  - request.queryResult.outputContexts[2].parameters["sector_type.original"]: ""
  - request.queryResult.outputContexts[2].parameters.sector_region: "China"
  - request.queryResult.outputContexts[2].parameters["sector_region.original"]: "China"
  - request.queryResult.outputContexts[3].name: "projects/co2-gal/agent/sessions/ABwppHEft1uR9-_yiFsVgDXLXqya1olA5aLs551fOuPII_VG1xWVz0ZRodkPVLQkaVw4jzRPqA/contexts/actions_capability_account_linking"
  - request.queryResult.outputContexts[3].parameters.sector_type: ""
  - request.queryResult.outputContexts[3].parameters["sector_type.original"]: ""
  - request.queryResult.outputContexts[3].parameters.sector_region: "China"
  - request.queryResult.outputContexts[3].parameters["sector_region.original"]: "China"
  - request.queryResult.outputContexts[4].name: "projects/co2-gal/agent/sessions/ABwppHEft1uR9-_yiFsVgDXLXqya1olA5aLs551fOuPII_VG1xWVz0ZRodkPVLQkaVw4jzRPqA/contexts/actions_capability_web_browser"
  - request.queryResult.outputContexts[4].parameters.sector_type: ""
  - request.queryResult.outputContexts[4].parameters["sector_type.original"]: ""
  - request.queryResult.outputContexts[4].parameters.sector_region: "China"
  - request.queryResult.outputContexts[4].parameters["sector_region.original"]: "China"
  - request.queryResult.outputContexts[5].name: "projects/co2-gal/agent/sessions/ABwppHEft1uR9-_yiFsVgDXLXqya1olA5aLs551fOuPII_VG1xWVz0ZRodkPVLQkaVw4jzRPqA/contexts/google_assistant_input_type_keyboard"
  - request.queryResult.outputContexts[5].parameters.sector_type: ""
  - request.queryResult.outputContexts[5].parameters["sector_type.original"]: ""
  - request.queryResult.outputContexts[5].parameters.sector_region: "China"
  - request.queryResult.outputContexts[5].parameters["sector_region.original"]: "China"
  - request.queryResult.outputContexts[6].name: "projects/co2-gal/agent/sessions/ABwppHEft1uR9-_yiFsVgDXLXqya1olA5aLs551fOuPII_VG1xWVz0ZRodkPVLQkaVw4jzRPqA/contexts/menu_intent-followup"
  - request.queryResult.outputContexts[6].parameters.sector_type: ""
  - request.queryResult.outputContexts[6].parameters["sector_type.original"]: ""
  - request.queryResult.outputContexts[6].parameters.sector_region: "China"
  - request.queryResult.outputContexts[6].parameters["sector_region.original"]: "China"
  - request.queryResult.outputContexts[0].lifespanCount: 1
  - request.queryResult.outputContexts[7].name: "projects/co2-gal/agent/sessions/ABwppHEft1uR9-_yiFsVgDXLXqya1olA5aLs551fOuPII_VG1xWVz0ZRodkPVLQkaVw4jzRPqA/contexts/sector_intent-followup"
  - request.queryResult.outputContexts[7].parameters.sector_type: ""
  - request.queryResult.outputContexts[7].parameters["sector_type.original"]: ""
  - request.queryResult.outputContexts[7].parameters.sector_region: "China"
  - request.queryResult.outputContexts[7].parameters["sector_region.original"]: "China"
  - request.originalDetectIntentRequest.payload.inputs[0].rawInputs[0].query: "how about in China"
  - request.originalDetectIntentRequest.payload.inputs[0].rawInputs[0].inputType: "KEYBOARD"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[0].name: "text"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[0].textValue: "how about in China"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[0].rawText: "how about in China"
  - request.originalDetectIntentRequest.payload.inputs[0].intent: "actions.intent.TEXT"
  - request.originalDetectIntentRequest.payload.user.userStorage: "{\"data\":{\"noPermission\":false,\"name\":{\"display\":\"Stream Co\",\"family\":\"Co\",\"given\":\"Stream\"},\"location\":{\"coordinates\":{\"latitude\":37.4219806,\"longitude\":-122.0841979}},\"lastParams\":{\"sector_region\":\"India\",\"sector_type\":\"energy\"}}}"
  - request.originalDetectIntentRequest.payload.surface.capabilities[0].name: "actions.capability.SCREEN_OUTPUT"
  - request.originalDetectIntentRequest.payload.surface.capabilities[1].name: "actions.capability.MEDIA_RESPONSE_AUDIO"
  - request.originalDetectIntentRequest.payload.surface.capabilities[2].name: "actions.capability.AUDIO_OUTPUT"
  - request.originalDetectIntentRequest.payload.surface.capabilities[3].name: "actions.capability.ACCOUNT_LINKING"
  - request.originalDetectIntentRequest.payload.surface.capabilities[4].name: "actions.capability.WEB_BROWSER"
  - request.originalDetectIntentRequest.payload.availableSurfaces[0].capabilities[0].name: "actions.capability.WEB_BROWSER"
  - request.originalDetectIntentRequest.payload.availableSurfaces[0].capabilities[1].name: "actions.capability.AUDIO_OUTPUT"
  - request.originalDetectIntentRequest.payload.availableSurfaces[0].capabilities[2].name: "actions.capability.SCREEN_OUTPUT"
  - payload.google.richResponse.items[0].simpleResponse.displayText: "6711444.0564 gigagrams"
  - payload.google.richResponse.items[1].basicCard.formattedText: "To see some visuals click the button"
  - payload.google.richResponse.items[1].basicCard.buttons[0].title: "See More"
  - payload.google.richResponse.items[1].basicCard.buttons[0].openUrlAction.url: "https://carbonhub.org/visuals/sector"
---


# A simple skill test suite for google assistant
--- # Configuration YAML document
configuration:
  locale: en-US

--- 
- test: electricity direct query test
- electricity_intent: # When queried directly and all the parameters are provided
  - request.queryResult.queryText: "emission due to 100 units of electricity in India"
  - request.queryResult.action: "input.electricity_details"
  - request.queryResult.parameters.quantity: 100 
  - request.queryResult.parameters.geo_country: "India"  
  - request.queryResult.parameters.emission_type: ""
  - request.queryResult.intent.displayName: "electricity_intent"
  - request.queryResult.outputContexts[0].name: "projects/co2-gal/agent/sessions/ABwppHEezpdKtYc8mJeqCeWToI75T5eaOaiVrtOYDW4xTJe7Txo5jwBcfPgz7ars5FKbDQSG6Q/contexts/electricity_intent-followup"
  - request.queryResult.outputContexts[0].parameters.quantity: 100
  - request.queryResult.outputContexts[0].parameters["quantity.original"]: 100
  - request.queryResult.outputContexts[0].parameters.geo_country: "India"
  - request.queryResult.outputContexts[0].parameters["geo_country.original"]: "in India"
  - request.queryResult.outputContexts[0].parameters.emission_type: ""
  - request.queryResult.outputContexts[0].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[0].lifespanCount: 5
  - request.queryResult.outputContexts[1].name: "projects/co2-gal/agent/sessions/ABwppHEezpdKtYc8mJeqCeWToI75T5eaOaiVrtOYDW4xTJe7Txo5jwBcfPgz7ars5FKbDQSG6Q/contexts/actions_capability_media_response_audio"
  - request.queryResult.outputContexts[1].parameters.quantity: 100
  - request.queryResult.outputContexts[1].parameters["quantity.original"]: 100
  - request.queryResult.outputContexts[1].parameters.geo_country: "India"
  - request.queryResult.outputContexts[1].parameters["geo_country.original"]: "in India"
  - request.queryResult.outputContexts[1].parameters.emission_type: ""
  - request.queryResult.outputContexts[1].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[2].name: "projects/co2-gal/agent/sessions/ABwppHEezpdKtYc8mJeqCeWToI75T5eaOaiVrtOYDW4xTJe7Txo5jwBcfPgz7ars5FKbDQSG6Q/contexts/actions_capability_audio_output"
  - request.queryResult.outputContexts[2].parameters.quantity: 100
  - request.queryResult.outputContexts[2].parameters["quantity.original"]: 100
  - request.queryResult.outputContexts[2].parameters.geo_country: "India"
  - request.queryResult.outputContexts[2].parameters["geo_country.original"]: "in India"
  - request.queryResult.outputContexts[2].parameters.emission_type: ""
  - request.queryResult.outputContexts[2].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[3].name: "projects/co2-gal/agent/sessions/ABwppHEezpdKtYc8mJeqCeWToI75T5eaOaiVrtOYDW4xTJe7Txo5jwBcfPgz7ars5FKbDQSG6Q/contexts/actions_capability_screen_output"
  - request.queryResult.outputContexts[3].parameters.quantity: 100
  - request.queryResult.outputContexts[3].parameters["quantity.original"]: 100
  - request.queryResult.outputContexts[3].parameters.geo_country: "India"
  - request.queryResult.outputContexts[3].parameters["geo_country.original"]: "in India"
  - request.queryResult.outputContexts[3].parameters.emission_type: ""
  - request.queryResult.outputContexts[3].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[4].name: "projects/co2-gal/agent/sessions/ABwppHEezpdKtYc8mJeqCeWToI75T5eaOaiVrtOYDW4xTJe7Txo5jwBcfPgz7ars5FKbDQSG6Q/contexts/actions_capability_web_browser"
  - request.queryResult.outputContexts[4].parameters.quantity: 100
  - request.queryResult.outputContexts[4].parameters["quantity.original"]: 100
  - request.queryResult.outputContexts[4].parameters.geo_country: "India"
  - request.queryResult.outputContexts[4].parameters["geo_country.original"]: "in India"
  - request.queryResult.outputContexts[4].parameters.emission_type: ""
  - request.queryResult.outputContexts[4].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[5].name: "projects/co2-gal/agent/sessions/ABwppHEezpdKtYc8mJeqCeWToI75T5eaOaiVrtOYDW4xTJe7Txo5jwBcfPgz7ars5FKbDQSG6Q/contexts/actions_capability_account_linking"
  - request.queryResult.outputContexts[5].parameters.quantity: 100
  - request.queryResult.outputContexts[5].parameters["quantity.original"]: 100
  - request.queryResult.outputContexts[5].parameters.geo_country: "India"
  - request.queryResult.outputContexts[5].parameters["geo_country.original"]: "in India"
  - request.queryResult.outputContexts[5].parameters.emission_type: ""
  - request.queryResult.outputContexts[5].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[6].name: "projects/co2-gal/agent/sessions/ABwppHEezpdKtYc8mJeqCeWToI75T5eaOaiVrtOYDW4xTJe7Txo5jwBcfPgz7ars5FKbDQSG6Q/contexts/google_assistant_input_type_keyboard"
  - request.queryResult.outputContexts[6].parameters.quantity: 100
  - request.queryResult.outputContexts[6].parameters["quantity.original"]: 100
  - request.queryResult.outputContexts[6].parameters.geo_country: "India"
  - request.queryResult.outputContexts[6].parameters["geo_country.original"]: "in India"
  - request.queryResult.outputContexts[6].parameters.emission_type: ""
  - request.queryResult.outputContexts[6].parameters["emission_type.original"]: ""
  - request.originalDetectIntentRequest.payload.inputs[0].rawInputs[0].query: "emission due to 100 units of electricity in India"
  - request.originalDetectIntentRequest.payload.inputs[0].rawInputs[0].inputType: "KEYBOARD"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[0].name: "text"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[0].textValue: "emission due to 100 units of electricity in India"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[0].rawText: "emission due to 100 units of electricity in India"
  - request.originalDetectIntentRequest.payload.inputs[0].intent: "actions.intent.TEXT"
  - request.originalDetectIntentRequest.payload.user.userStorage: "{\"data\":{\"noPermission\":false,\"lastParams\":{\"quantity\":\"\",\"geo_country\":\"India\",\"emission_type\":\"\"},\"name\":{\"display\":\"Stream Co\",\"family\":\"Co\",\"given\":\"Stream\"},\"location\":{\"coordinates\":{\"latitude\":20.26828,\"longitude\":85.7769064},\"formattedAddress\":\"Khandagiri, Bhubaneswar, Odisha \",\"city\":\"Bhubaneswar\"}}}"
  - request.originalDetectIntentRequest.payload.surface.capabilities[0].name: "actions.capability.SCREEN_OUTPUT"
  - request.originalDetectIntentRequest.payload.surface.capabilities[1].name: "actions.capability.MEDIA_RESPONSE_AUDIO"
  - request.originalDetectIntentRequest.payload.surface.capabilities[2].name: "actions.capability.AUDIO_OUTPUT"
  - request.originalDetectIntentRequest.payload.surface.capabilities[3].name: "actions.capability.ACCOUNT_LINKING"
  - request.originalDetectIntentRequest.payload.surface.capabilities[4].name: "actions.capability.WEB_BROWSER"
  - request.originalDetectIntentRequest.payload.availableSurfaces[0].capabilities[0].name: "actions.capability.WEB_BROWSER"
  - request.originalDetectIntentRequest.payload.availableSurfaces[0].capabilities[1].name: "actions.capability.AUDIO_OUTPUT"
  - request.originalDetectIntentRequest.payload.availableSurfaces[0].capabilities[2].name: "actions.capability.SCREEN_OUTPUT"
  - payload.google.richResponse.items[0].simpleResponse.displayText: "\nCarbon Dioxide: 141.7636817 kg.\nNitrous Oxide: 0.0021226 kg.\nMethane: 0.0016704 kg"
  - payload.google.richResponse.items[1].basicCard.formattedText: "To see some visuals click the button"
  - payload.google.richResponse.items[1].basicCard.buttons[0].title: "See More"
  - payload.google.richResponse.items[1].basicCard.buttons[0].openUrlAction.url: "https://carbonhub.org/visuals/electricity"
---

---
- test: electricity wizard system test
- electricity_intent: # test for consumption country suggestion
  - request.queryResult.queryText: "electricity_intent_triggered"
  - request.queryResult.action: "input.electricity_details"
  - request.queryResult.parameters.quantity: "" 
  - request.queryResult.parameters.geo_country: ""  
  - request.queryResult.parameters.emission_type: ""
  - request.queryResult.intent.displayName: "electricity_intent"
  - request.queryResult.outputContexts[0].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/electricity_intent-followup"
  - request.queryResult.outputContexts[0].parameters.quantity: ""
  - request.queryResult.outputContexts[0].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[0].parameters.geo_country: ""
  - request.queryResult.outputContexts[0].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[0].parameters.emission_type: ""
  - request.queryResult.outputContexts[0].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[0].lifespanCount: 5
  - request.queryResult.outputContexts[1].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/electricity_intent_triggered"
  - request.queryResult.outputContexts[1].parameters.quantity: ""
  - request.queryResult.outputContexts[1].parameters.option: "Electricity"
  - request.queryResult.outputContexts[1].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[1].parameters.geo_country: ""
  - request.queryResult.outputContexts[1].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[1].parameters.emission_type: ""
  - request.queryResult.outputContexts[1].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[2].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/menu_intent-followup"
  - request.queryResult.outputContexts[2].parameters.quantity: ""
  - request.queryResult.outputContexts[2].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[2].parameters.geo_country: ""
  - request.queryResult.outputContexts[2].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[2].parameters.emission_type: ""
  - request.queryResult.outputContexts[2].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[2].lifespanCount: 3
  - request.originalDetectIntentRequest.payload.inputs[0].rawInputs[0].query: "Electricity"
  - request.originalDetectIntentRequest.payload.inputs[0].rawInputs[0].inputType: "TOUCH"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[0].name: "OPTION"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[0].textValue: "Electricity"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[1].rawText: "Electricity"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[1].textValue: "Electricity"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[1].name: "text"
  - request.originalDetectIntentRequest.payload.inputs[0].intent: "actions.intent.TEXT"
  - request.originalDetectIntentRequest.payload.surface.capabilities[0].name: "actions.capability.SCREEN_OUTPUT"
  - request.originalDetectIntentRequest.payload.surface.capabilities[1].name: "actions.capability.MEDIA_RESPONSE_AUDIO"
  - request.originalDetectIntentRequest.payload.surface.capabilities[2].name: "actions.capability.AUDIO_OUTPUT"
  - request.originalDetectIntentRequest.payload.surface.capabilities[3].name: "actions.capability.ACCOUNT_LINKING"
  - request.originalDetectIntentRequest.payload.surface.capabilities[4].name: "actions.capability.WEB_BROWSER"
  - request.originalDetectIntentRequest.payload.availableSurfaces[0].capabilities[0].name: "actions.capability.WEB_BROWSER"
  - request.originalDetectIntentRequest.payload.availableSurfaces[0].capabilities[1].name: "actions.capability.AUDIO_OUTPUT"
  - request.originalDetectIntentRequest.payload.availableSurfaces[0].capabilities[2].name: "actions.capability.SCREEN_OUTPUT"
  - request.originalDetectIntentRequest.payload.user.userStorage: "{\"data\":{\"noPermission\":false,\"lastParams\":{\"sector_type\":\"energy\",\"sector_region\":\"India\"},\"name\":{\"display\":\"Stream Co\",\"family\":\"Co\",\"given\":\"Stream\"},\"location\":{\"coordinates\":{\"latitude\":20.26828,\"longitude\":85.7769064},\"formattedAddress\":\"Khandagiri, Bhubaneswar, Odisha \",\"city\":\"Bhubaneswar\"}}}"
  - payload.google.richResponse.items[0].simpleResponse.textToSpeech: "Would you like to provide the consumption country name?"
  - payload.google.richResponse.suggestions[0].title: "Yes, I'll provide"
  - payload.google.richResponse.suggestions[1].title: "No, thanks"
---

---
- test: wizard system test 
- electricity_intent_region_yes: # Tests for consumption quantity suggestion
  - request.queryResult.queryText: "India"
  - request.queryResult.action: "electricity_intent.electricity_intent-custom"
  - request.queryResult.parameters.quantity: "" 
  - request.queryResult.parameters.geo_country: "India"  
  - request.queryResult.parameters.emission_type: ""
  - request.queryResult.intent.displayName: "electricity_intent_region_yes"
  - request.queryResult.outputContexts[0].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/electricity_intent_region_yes-followup"
  - request.queryResult.outputContexts[0].parameters.quantity: ""
  - request.queryResult.outputContexts[0].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[0].parameters.geo_country: "India"
  - request.queryResult.outputContexts[0].parameters["geo_country.original"]: "India"
  - request.queryResult.outputContexts[0].parameters.emission_type: ""
  - request.queryResult.outputContexts[0].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[0].lifespanCount: 3
  - request.queryResult.outputContexts[1].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/actions_capability_web_browser"
  - request.queryResult.outputContexts[1].parameters.quantity: ""
  - request.queryResult.outputContexts[1].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[1].parameters.geo_country: "India"
  - request.queryResult.outputContexts[1].parameters["geo_country.original"]: "India" 
  - request.queryResult.outputContexts[1].parameters.emission_type: ""
  - request.queryResult.outputContexts[1].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[2].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/actions_capability_audio_output"
  - request.queryResult.outputContexts[2].parameters.quantity: ""
  - request.queryResult.outputContexts[2].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[2].parameters.geo_country: "India"
  - request.queryResult.outputContexts[2].parameters["geo_country.original"]: "India"
  - request.queryResult.outputContexts[2].parameters.emission_type: ""
  - request.queryResult.outputContexts[2].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[3].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/actions_capability_media_response_audio"
  - request.queryResult.outputContexts[3].parameters.quantity: ""
  - request.queryResult.outputContexts[3].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[3].parameters.geo_country: "India"
  - request.queryResult.outputContexts[3].parameters["geo_country.original"]: "India"
  - request.queryResult.outputContexts[3].parameters.emission_type: ""
  - request.queryResult.outputContexts[3].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[4].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/actions_capability_account_linking"
  - request.queryResult.outputContexts[4].parameters.quantity: ""
  - request.queryResult.outputContexts[4].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[4].parameters.geo_country: "India"
  - request.queryResult.outputContexts[4].parameters["geo_country.original"]: "India"
  - request.queryResult.outputContexts[4].parameters.emission_type: ""
  - request.queryResult.outputContexts[4].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[5].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/actions_capability_screen_output"
  - request.queryResult.outputContexts[5].parameters.quantity: ""
  - request.queryResult.outputContexts[5].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[5].parameters.geo_country: "India"
  - request.queryResult.outputContexts[5].parameters["geo_country.original"]: "India"
  - request.queryResult.outputContexts[5].parameters.emission_type: ""
  - request.queryResult.outputContexts[5].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[6].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/google_assistant_input_type_keyboard"
  - request.queryResult.outputContexts[6].parameters.quantity: ""
  - request.queryResult.outputContexts[6].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[6].parameters.geo_country: "India"
  - request.queryResult.outputContexts[6].parameters["geo_country.original"]: "India"
  - request.queryResult.outputContexts[6].parameters.emission_type: ""
  - request.queryResult.outputContexts[6].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[7].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/menu_intent-followup"
  - request.queryResult.outputContexts[7].parameters.quantity: ""
  - request.queryResult.outputContexts[7].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[7].parameters.geo_country: "India"
  - request.queryResult.outputContexts[7].parameters["geo_country.original"]: "India"
  - request.queryResult.outputContexts[7].parameters.emission_type: ""
  - request.queryResult.outputContexts[7].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[7].lifespanCount: 2
  - request.queryResult.outputContexts[8].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/electricity_intent-followup"
  - request.queryResult.outputContexts[8].lifespanCount: 4
  - request.queryResult.outputContexts[8].parameters.quantity: ""
  - request.queryResult.outputContexts[8].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[8].parameters.geo_country: "India"
  - request.queryResult.outputContexts[8].parameters["geo_country.original"]: "India"
  - request.queryResult.outputContexts[8].parameters.emission_type: ""
  - request.queryResult.outputContexts[8].parameters["emission_type.original"]: ""
  - request.originalDetectIntentRequest.payload.inputs[0].rawInputs[0].query: "India"
  - request.originalDetectIntentRequest.payload.inputs[0].rawInputs[0].inputType: "KEYBOARD"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[0].name: "text"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[0].textValue: "India"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[0].rawText: "India"
  - request.originalDetectIntentRequest.payload.inputs[0].intent: "actions.intent.TEXT"
  - request.originalDetectIntentRequest.payload.surface.capabilities[0].name: "actions.capability.SCREEN_OUTPUT"
  - request.originalDetectIntentRequest.payload.surface.capabilities[1].name: "actions.capability.MEDIA_RESPONSE_AUDIO"
  - request.originalDetectIntentRequest.payload.surface.capabilities[2].name: "actions.capability.AUDIO_OUTPUT"
  - request.originalDetectIntentRequest.payload.surface.capabilities[3].name: "actions.capability.ACCOUNT_LINKING"
  - request.originalDetectIntentRequest.payload.surface.capabilities[4].name: "actions.capability.WEB_BROWSER"
  - request.originalDetectIntentRequest.payload.availableSurfaces[0].capabilities[0].name: "actions.capability.WEB_BROWSER"
  - request.originalDetectIntentRequest.payload.availableSurfaces[0].capabilities[1].name: "actions.capability.AUDIO_OUTPUT"
  - request.originalDetectIntentRequest.payload.availableSurfaces[0].capabilities[2].name: "actions.capability.SCREEN_OUTPUT"
  - request.originalDetectIntentRequest.payload.user.userStorage: "{\"data\":{\"noPermission\":false,\"lastParams\":{\"quantity\":\"\",\"emission_type\":\"\",\"geo_country\":\"\"},\"name\":{\"display\":\"Stream Co\",\"family\":\"Co\",\"given\":\"Stream\"},\"location\":{\"coordinates\":{\"latitude\":20.26828,\"longitude\":85.7769064},\"formattedAddress\":\"Khandagiri, Bhubaneswar, Odisha \",\"city\":\"Bhubaneswar\"}}}"
  - payload.google.richResponse.items[0].simpleResponse.textToSpeech: "Would you like to provide the consumption quantity or the unit?"
  - payload.google.richResponse.suggestions[0].title: "Yes"
  - payload.google.richResponse.suggestions[1].title: "No, thanks"
---

---
- test: wizard system test 
- electricity_region_yes_quantity_no: #test for when no consumption quantity is provided
  - request.queryResult.queryText: "No, thanks"
  - request.queryResult.action: "electricity_intent.electricity_intent-custom.electricity_intent_region_yes-custom"
  - request.queryResult.parameters.quantity: "" 
  - request.queryResult.parameters.geo_country: ""  
  - request.queryResult.parameters.emission_type: ""
  - request.queryResult.intent.displayName: "electricity_region_yes_quantity_no"
  - request.queryResult.outputContexts[0].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/electricity_region_yes_quantity_no-followup"
  - request.queryResult.outputContexts[0].parameters.quantity: ""
  - request.queryResult.outputContexts[0].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[0].parameters.geo_country: ""
  - request.queryResult.outputContexts[0].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[0].parameters.emission_type: ""
  - request.queryResult.outputContexts[0].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[0].lifespanCount: 5
  - request.queryResult.outputContexts[1].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/actions_capability_web_browser"
  - request.queryResult.outputContexts[1].parameters.quantity: ""
  - request.queryResult.outputContexts[1].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[1].parameters.geo_country: ""
  - request.queryResult.outputContexts[1].parameters["geo_country.original"]: "" 
  - request.queryResult.outputContexts[1].parameters.emission_type: ""
  - request.queryResult.outputContexts[1].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[2].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/actions_capability_audio_output"
  - request.queryResult.outputContexts[2].parameters.quantity: ""
  - request.queryResult.outputContexts[2].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[2].parameters.geo_country: ""
  - request.queryResult.outputContexts[2].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[2].parameters.emission_type: ""
  - request.queryResult.outputContexts[2].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[3].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/actions_capability_media_response_audio"
  - request.queryResult.outputContexts[3].parameters.quantity: ""
  - request.queryResult.outputContexts[3].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[3].parameters.geo_country: ""
  - request.queryResult.outputContexts[3].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[3].parameters.emission_type: ""
  - request.queryResult.outputContexts[3].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[4].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/actions_capability_account_linking"
  - request.queryResult.outputContexts[4].parameters.quantity: ""
  - request.queryResult.outputContexts[4].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[4].parameters.geo_country: ""
  - request.queryResult.outputContexts[4].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[4].parameters.emission_type: ""
  - request.queryResult.outputContexts[4].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[5].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/actions_capability_screen_output"
  - request.queryResult.outputContexts[5].parameters.quantity: ""
  - request.queryResult.outputContexts[5].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[5].parameters.geo_country: ""
  - request.queryResult.outputContexts[5].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[5].parameters.emission_type: ""
  - request.queryResult.outputContexts[5].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[6].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/google_assistant_input_type_touch"
  - request.queryResult.outputContexts[6].parameters.quantity: ""
  - request.queryResult.outputContexts[6].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[6].parameters.geo_country: ""
  - request.queryResult.outputContexts[6].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[6].parameters.emission_type: ""
  - request.queryResult.outputContexts[6].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[7].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/menu_intent-followup"
  - request.queryResult.outputContexts[7].parameters.quantity: ""
  - request.queryResult.outputContexts[7].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[7].parameters.geo_country: ""
  - request.queryResult.outputContexts[7].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[7].parameters.emission_type: ""
  - request.queryResult.outputContexts[7].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[7].lifespanCount: 1
  - request.queryResult.outputContexts[8].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/electricity_intent_region_yes-followup"
  - request.queryResult.outputContexts[8].lifespanCount: 2
  - request.queryResult.outputContexts[8].parameters.quantity: ""
  - request.queryResult.outputContexts[8].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[8].parameters.geo_country: ""
  - request.queryResult.outputContexts[8].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[8].parameters.emission_type: ""
  - request.queryResult.outputContexts[8].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[9].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/electricity_intent-followup"
  - request.queryResult.outputContexts[9].lifespanCount: 3
  - request.queryResult.outputContexts[9].parameters.quantity: ""
  - request.queryResult.outputContexts[9].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[9].parameters.geo_country: ""
  - request.queryResult.outputContexts[9].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[9].parameters.emission_type: ""
  - request.queryResult.outputContexts[9].parameters["emission_type.original"]: ""
  - request.originalDetectIntentRequest.payload.inputs[0].rawInputs[0].query: "No, thanks"
  - request.originalDetectIntentRequest.payload.inputs[0].rawInputs[0].inputType: "TOUCH"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[0].name: "text"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[0].textValue: "No, thanks"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[0].rawText: "No, thanks"
  - request.originalDetectIntentRequest.payload.inputs[0].intent: "actions.intent.TEXT"
  - request.originalDetectIntentRequest.payload.surface.capabilities[0].name: "actions.capability.SCREEN_OUTPUT"
  - request.originalDetectIntentRequest.payload.surface.capabilities[1].name: "actions.capability.MEDIA_RESPONSE_AUDIO"
  - request.originalDetectIntentRequest.payload.surface.capabilities[2].name: "actions.capability.AUDIO_OUTPUT"
  - request.originalDetectIntentRequest.payload.surface.capabilities[3].name: "actions.capability.ACCOUNT_LINKING"
  - request.originalDetectIntentRequest.payload.surface.capabilities[4].name: "actions.capability.WEB_BROWSER"
  - request.originalDetectIntentRequest.payload.availableSurfaces[0].capabilities[0].name: "actions.capability.WEB_BROWSER"
  - request.originalDetectIntentRequest.payload.availableSurfaces[0].capabilities[1].name: "actions.capability.AUDIO_OUTPUT"
  - request.originalDetectIntentRequest.payload.availableSurfaces[0].capabilities[2].name: "actions.capability.SCREEN_OUTPUT"
  - request.originalDetectIntentRequest.payload.user.userStorage: "{\"data\":{\"noPermission\":false,\"lastParams\":{\"quantity\":\"\",\"emission_type\":\"\",\"geo_country\":\"India\"},\"name\":{\"display\":\"Stream Co\",\"family\":\"Co\",\"given\":\"Stream\"},\"location\":{\"coordinates\":{\"latitude\":20.26828,\"longitude\":85.7769064},\"formattedAddress\":\"Khandagiri, Bhubaneswar, Odisha \",\"city\":\"Bhubaneswar\"}}}"
  - payload.google.richResponse.items[0].simpleResponse.displayText: "Carbon Dioxide: 1.417636817 kg.\nNitrous Oxide: 0.000021226 kg.\nMethane: 0.000016704 kg"
  - payload.google.richResponse.items[1].basicCard.formattedText: "To see some visuals click the button"
  - payload.google.richResponse.items[1].basicCard.buttons[0].title: "See More"
  - payload.google.richResponse.items[1].basicCard.buttons[0].openUrlAction.url: "https://carbonhub.org/visuals/electricity"
---

---
- test: wizard system test 
- electricity_region_no_quantity_yes: #test for when no consumption country is provided but consumption quantity is provided
  - request.queryResult.queryText: 17
  - request.queryResult.action: "electricity_intent.electricity_intent-custom.electricity_intent_region_no-custom"
  - request.queryResult.parameters.quantity: "" 
  - request.queryResult.parameters.geo_country: ""  
  - request.queryResult.parameters.emission_type: ""
  - request.queryResult.intent.displayName: "electricity_region_yes_quantity_no"
  - request.queryResult.outputContexts[0].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/electricity_region_no_quantity_yes-followup"
  - request.queryResult.outputContexts[0].parameters.quantity: 17
  - request.queryResult.outputContexts[0].parameters["quantity.original"]: 17
  - request.queryResult.outputContexts[0].parameters.geo_country: ""
  - request.queryResult.outputContexts[0].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[0].parameters.emission_type: ""
  - request.queryResult.outputContexts[0].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[0].lifespanCount: 5
  - request.queryResult.outputContexts[1].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/actions_capability_web_browser"
  - request.queryResult.outputContexts[1].parameters.quantity: 17
  - request.queryResult.outputContexts[1].parameters["quantity.original"]: 17
  - request.queryResult.outputContexts[1].parameters.geo_country: ""
  - request.queryResult.outputContexts[1].parameters["geo_country.original"]: "" 
  - request.queryResult.outputContexts[1].parameters.emission_type: ""
  - request.queryResult.outputContexts[1].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[2].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/actions_capability_audio_output"
  - request.queryResult.outputContexts[2].parameters.quantity: 17
  - request.queryResult.outputContexts[2].parameters["quantity.original"]: 17
  - request.queryResult.outputContexts[2].parameters.geo_country: ""
  - request.queryResult.outputContexts[2].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[2].parameters.emission_type: ""
  - request.queryResult.outputContexts[2].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[3].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/actions_capability_media_response_audio"
  - request.queryResult.outputContexts[3].parameters.quantity: 17
  - request.queryResult.outputContexts[3].parameters["quantity.original"]: 17
  - request.queryResult.outputContexts[3].parameters.geo_country: ""
  - request.queryResult.outputContexts[3].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[3].parameters.emission_type: ""
  - request.queryResult.outputContexts[3].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[4].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/actions_capability_account_linking"
  - request.queryResult.outputContexts[4].parameters.quantity: 17
  - request.queryResult.outputContexts[4].parameters["quantity.original"]: 17
  - request.queryResult.outputContexts[4].parameters.geo_country: ""
  - request.queryResult.outputContexts[4].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[4].parameters.emission_type: ""
  - request.queryResult.outputContexts[4].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[5].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/actions_capability_screen_output"
  - request.queryResult.outputContexts[5].parameters.quantity: 17
  - request.queryResult.outputContexts[5].parameters["quantity.original"]: 17
  - request.queryResult.outputContexts[5].parameters.geo_country: ""
  - request.queryResult.outputContexts[5].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[5].parameters.emission_type: ""
  - request.queryResult.outputContexts[5].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[6].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/google_assistant_input_type_touch"
  - request.queryResult.outputContexts[6].parameters.quantity: 17
  - request.queryResult.outputContexts[6].parameters["quantity.original"]: 17
  - request.queryResult.outputContexts[6].parameters.geo_country: ""
  - request.queryResult.outputContexts[6].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[6].parameters.emission_type: ""
  - request.queryResult.outputContexts[6].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[7].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/menu_intent-followup"
  - request.queryResult.outputContexts[7].parameters.quantity: 17
  - request.queryResult.outputContexts[7].parameters["quantity.original"]: 17
  - request.queryResult.outputContexts[7].parameters.geo_country: ""
  - request.queryResult.outputContexts[7].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[7].parameters.emission_type: ""
  - request.queryResult.outputContexts[7].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[7].lifespanCount: 1
  - request.queryResult.outputContexts[8].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/electricity_intent_region_no-followup"
  - request.queryResult.outputContexts[8].lifespanCount: 2
  - request.queryResult.outputContexts[8].parameters.quantity: 17
  - request.queryResult.outputContexts[8].parameters["quantity.original"]: 17
  - request.queryResult.outputContexts[8].parameters.geo_country: ""
  - request.queryResult.outputContexts[8].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[8].parameters.emission_type: ""
  - request.queryResult.outputContexts[8].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[9].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/electricity_intent-followup"
  - request.queryResult.outputContexts[9].lifespanCount: 3
  - request.queryResult.outputContexts[9].parameters.quantity: 17
  - request.queryResult.outputContexts[9].parameters["quantity.original"]: 17
  - request.queryResult.outputContexts[9].parameters.geo_country: ""
  - request.queryResult.outputContexts[9].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[9].parameters.emission_type: ""
  - request.queryResult.outputContexts[9].parameters["emission_type.original"]: ""
  - request.originalDetectIntentRequest.payload.inputs[0].rawInputs[0].query: 17
  - request.originalDetectIntentRequest.payload.inputs[0].rawInputs[0].inputType: "KEYBOARD"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[0].name: "text"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[0].textValue: 17
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[0].rawText: 17
  - request.originalDetectIntentRequest.payload.inputs[0].intent: "actions.intent.TEXT"
  - request.originalDetectIntentRequest.payload.surface.capabilities[0].name: "actions.capability.SCREEN_OUTPUT"
  - request.originalDetectIntentRequest.payload.surface.capabilities[1].name: "actions.capability.MEDIA_RESPONSE_AUDIO"
  - request.originalDetectIntentRequest.payload.surface.capabilities[2].name: "actions.capability.AUDIO_OUTPUT"
  - request.originalDetectIntentRequest.payload.surface.capabilities[3].name: "actions.capability.ACCOUNT_LINKING"
  - request.originalDetectIntentRequest.payload.surface.capabilities[4].name: "actions.capability.WEB_BROWSER"
  - request.originalDetectIntentRequest.payload.availableSurfaces[0].capabilities[0].name: "actions.capability.WEB_BROWSER"
  - request.originalDetectIntentRequest.payload.availableSurfaces[0].capabilities[1].name: "actions.capability.AUDIO_OUTPUT"
  - request.originalDetectIntentRequest.payload.availableSurfaces[0].capabilities[2].name: "actions.capability.SCREEN_OUTPUT"
  - request.originalDetectIntentRequest.payload.user.userStorage: "{\"data\":{\"noPermission\":false,\"lastParams\":{\"quantity\":\"17\",\"emission_type\":\"\",\"geo_country\":\"\"},\"name\":{\"display\":\"Stream Co\",\"family\":\"Co\",\"given\":\"Stream\"},\"location\":{\"coordinates\":{\"latitude\":20.26828,\"longitude\":85.7769064},\"formattedAddress\":\"Khandagiri, Bhubaneswar, Odisha \",\"city\":\"Bhubaneswar\"}}}"
  - payload.google.richResponse.items[0].simpleResponse.displayText: "Carbon Dioxide: 12.793079836 kg.\nNitrous Oxide: 0.00017255 kg.\nMethane: 0.00017459 kg"
  - payload.google.richResponse.items[1].basicCard.formattedText: "To see some visuals click the button"
  - payload.google.richResponse.items[1].basicCard.buttons[0].title: "See More"
  - payload.google.richResponse.items[1].basicCard.buttons[0].openUrlAction.url: "https://carbonhub.org/visuals/electricity"
---

---
- test: Followup intent test
- electricity_region_yes_quantity_no_followup: #test for a different consumption country while the consumption quantity is same
  - request.queryResult.queryText: "how about in China"
  - request.queryResult.action: "electricity_intent.electricity_intent-custom.electricity_intent_region_yes-custom"
  - request.queryResult.parameters.quantity: "" 
  - request.queryResult.parameters.geo_country: ""  
  - request.queryResult.parameters.emission_type: ""
  - request.queryResult.intent.displayName: "electricity_region_yes_quantity_no_followup"
  - request.queryResult.outputContexts[0].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/actions_capability_screen_output"
  - request.queryResult.outputContexts[0].parameters.quantity: ""
  - request.queryResult.outputContexts[0].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[0].parameters.geo_country: ""
  - request.queryResult.outputContexts[0].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[0].parameters.emission_type: ""
  - request.queryResult.outputContexts[0].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[1].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/actions_capability_audio_output"
  - request.queryResult.outputContexts[1].parameters.quantity: ""
  - request.queryResult.outputContexts[1].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[1].parameters.geo_country: ""
  - request.queryResult.outputContexts[1].parameters["geo_country.original"]: "" 
  - request.queryResult.outputContexts[1].parameters.emission_type: ""
  - request.queryResult.outputContexts[1].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[2].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/actions_capability_media_response_audio"
  - request.queryResult.outputContexts[2].parameters.quantity: ""
  - request.queryResult.outputContexts[2].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[2].parameters.geo_country: ""
  - request.queryResult.outputContexts[2].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[2].parameters.emission_type: ""
  - request.queryResult.outputContexts[2].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[3].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/actions_capability_account_linking"
  - request.queryResult.outputContexts[3].parameters.quantity: ""
  - request.queryResult.outputContexts[3].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[3].parameters.geo_country: ""
  - request.queryResult.outputContexts[3].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[3].parameters.emission_type: ""
  - request.queryResult.outputContexts[3].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[4].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/actions_capability_web_browser"
  - request.queryResult.outputContexts[4].parameters.quantity: ""
  - request.queryResult.outputContexts[4].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[4].parameters.geo_country: ""
  - request.queryResult.outputContexts[4].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[4].parameters.emission_type: ""
  - request.queryResult.outputContexts[4].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[5].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/google_assistant_input_type_keyboard"
  - request.queryResult.outputContexts[5].parameters.quantity: ""
  - request.queryResult.outputContexts[5].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[5].parameters.geo_country: ""
  - request.queryResult.outputContexts[5].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[5].parameters.emission_type: ""
  - request.queryResult.outputContexts[5].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[6].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/electricity_region_yes_quantity_no-followup"
  - request.queryResult.outputContexts[6].parameters.quantity: ""
  - request.queryResult.outputContexts[6].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[6].parameters.geo_country: ""
  - request.queryResult.outputContexts[6].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[6].parameters.emission_type: ""
  - request.queryResult.outputContexts[6].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[6].lifespanCount: 4
  - request.queryResult.outputContexts[7].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/electricity_intent_region_yes-followup"
  - request.queryResult.outputContexts[7].parameters.quantity: ""
  - request.queryResult.outputContexts[7].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[7].parameters.geo_country: ""
  - request.queryResult.outputContexts[7].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[7].parameters.emission_type: ""
  - request.queryResult.outputContexts[7].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[7].lifespanCount: 1
  - request.queryResult.outputContexts[8].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/menu_intent-followup"
  - request.queryResult.outputContexts[8].parameters.quantity: ""
  - request.queryResult.outputContexts[8].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[8].parameters.geo_country: ""
  - request.queryResult.outputContexts[8].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[8].parameters.emission_type: ""
  - request.queryResult.outputContexts[8].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[9].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/electricity_intent-followup"
  - request.queryResult.outputContexts[9].lifespanCount: 2
  - request.queryResult.outputContexts[9].parameters.quantity: ""
  - request.queryResult.outputContexts[9].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[9].parameters.geo_country: ""
  - request.queryResult.outputContexts[9].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[9].parameters.emission_type: ""
  - request.queryResult.outputContexts[9].parameters["emission_type.original"]: ""
  - request.originalDetectIntentRequest.payload.inputs[0].rawInputs[0].query: "how about in China"
  - request.originalDetectIntentRequest.payload.inputs[0].rawInputs[0].inputType: "KEYBOARD"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[0].name: "text"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[0].textValue: "how about in China"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[0].rawText: "how about in China"
  - request.originalDetectIntentRequest.payload.inputs[0].intent: "actions.intent.TEXT"
  - request.originalDetectIntentRequest.payload.surface.capabilities[0].name: "actions.capability.SCREEN_OUTPUT"
  - request.originalDetectIntentRequest.payload.surface.capabilities[1].name: "actions.capability.MEDIA_RESPONSE_AUDIO"
  - request.originalDetectIntentRequest.payload.surface.capabilities[2].name: "actions.capability.AUDIO_OUTPUT"
  - request.originalDetectIntentRequest.payload.surface.capabilities[3].name: "actions.capability.ACCOUNT_LINKING"
  - request.originalDetectIntentRequest.payload.surface.capabilities[4].name: "actions.capability.WEB_BROWSER"
  - request.originalDetectIntentRequest.payload.availableSurfaces[0].capabilities[0].name: "actions.capability.WEB_BROWSER"
  - request.originalDetectIntentRequest.payload.availableSurfaces[0].capabilities[1].name: "actions.capability.AUDIO_OUTPUT"
  - request.originalDetectIntentRequest.payload.availableSurfaces[0].capabilities[2].name: "actions.capability.SCREEN_OUTPUT"
  - request.originalDetectIntentRequest.payload.user.userStorage: "{\"data\":{\"noPermission\":false,\"lastParams\":{\"quantity\":\"\",\"emission_type\":\"\",\"geo_country\":\"China\"},\"name\":{\"display\":\"Stream Co\",\"family\":\"Co\",\"given\":\"Stream\"},\"location\":{\"coordinates\":{\"latitude\":20.26828,\"longitude\":85.7769064},\"formattedAddress\":\"Khandagiri, Bhubaneswar, Odisha \",\"city\":\"Bhubaneswar\"}}}"
  - payload.google.richResponse.items[0].simpleResponse.displayText: "Carbon Dioxide: 0.752534108 kg.\nNitrous Oxide: 0.00001015 kg.\nMethane: 0.00001027 kg"
  - payload.google.richResponse.items[1].basicCard.formattedText: "To see some visuals click the button"
  - payload.google.richResponse.items[1].basicCard.buttons[0].title: "See More"
  - payload.google.richResponse.items[1].basicCard.buttons[0].openUrlAction.url: "https://carbonhub.org/visuals/electricity"
---

---
- test: Followup intent test
- electricity_region_no_quantity_yes_followup: #test for a different consumption quantity while the consumption country isn't provided
  - request.queryResult.queryText: "how about in 11 units"
  - request.queryResult.action: "electricity_intent.electricity_intent-custom.electricity_intent_region_no-custom"
  - request.queryResult.parameters.quantity: "" 
  - request.queryResult.parameters.geo_country: ""  
  - request.queryResult.parameters.emission_type: ""
  - request.queryResult.intent.displayName: "electricity_region_no_quantity_yes_followup"
  - request.queryResult.outputContexts[0].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/actions_capability_screen_output"
  - request.queryResult.outputContexts[0].parameters.quantity: ""
  - request.queryResult.outputContexts[0].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[0].parameters.geo_country: ""
  - request.queryResult.outputContexts[0].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[0].parameters.emission_type: ""
  - request.queryResult.outputContexts[0].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[1].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/actions_capability_audio_output"
  - request.queryResult.outputContexts[1].parameters.quantity: ""
  - request.queryResult.outputContexts[1].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[1].parameters.geo_country: ""
  - request.queryResult.outputContexts[1].parameters["geo_country.original"]: "" 
  - request.queryResult.outputContexts[1].parameters.emission_type: ""
  - request.queryResult.outputContexts[1].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[2].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/actions_capability_media_response_audio"
  - request.queryResult.outputContexts[2].parameters.quantity: ""
  - request.queryResult.outputContexts[2].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[2].parameters.geo_country: ""
  - request.queryResult.outputContexts[2].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[2].parameters.emission_type: ""
  - request.queryResult.outputContexts[2].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[3].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/actions_capability_account_linking"
  - request.queryResult.outputContexts[3].parameters.quantity: ""
  - request.queryResult.outputContexts[3].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[3].parameters.geo_country: ""
  - request.queryResult.outputContexts[3].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[3].parameters.emission_type: ""
  - request.queryResult.outputContexts[3].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[4].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/actions_capability_web_browser"
  - request.queryResult.outputContexts[4].parameters.quantity: ""
  - request.queryResult.outputContexts[4].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[4].parameters.geo_country: ""
  - request.queryResult.outputContexts[4].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[4].parameters.emission_type: ""
  - request.queryResult.outputContexts[4].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[5].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/google_assistant_input_type_keyboard"
  - request.queryResult.outputContexts[5].parameters.quantity: ""
  - request.queryResult.outputContexts[5].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[5].parameters.geo_country: ""
  - request.queryResult.outputContexts[5].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[5].parameters.emission_type: ""
  - request.queryResult.outputContexts[5].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[6].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/electricity_region_no_quantity_yes-followup"
  - request.queryResult.outputContexts[6].parameters.quantity: ""
  - request.queryResult.outputContexts[6].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[6].parameters.geo_country: ""
  - request.queryResult.outputContexts[6].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[6].parameters.emission_type: ""
  - request.queryResult.outputContexts[6].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[6].lifespanCount: 4
  - request.queryResult.outputContexts[7].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/electricity_intent_region_no-followup"
  - request.queryResult.outputContexts[7].parameters.quantity: ""
  - request.queryResult.outputContexts[7].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[7].parameters.geo_country: ""
  - request.queryResult.outputContexts[7].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[7].parameters.emission_type: ""
  - request.queryResult.outputContexts[7].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[7].lifespanCount: 1
  - request.queryResult.outputContexts[8].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/menu_intent-followup"
  - request.queryResult.outputContexts[8].parameters.quantity: ""
  - request.queryResult.outputContexts[8].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[8].parameters.geo_country: ""
  - request.queryResult.outputContexts[8].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[8].parameters.emission_type: ""
  - request.queryResult.outputContexts[8].parameters["emission_type.original"]: ""
  - request.queryResult.outputContexts[9].name: "projects/co2-gal/agent/sessions/ABwppHFe4TG42D1gRD0NBlnRpPmfMbcxFdVJTkxRofCQoY6UP3XaIvSp_ZS46Ob4VUVoLQnIpA/contexts/electricity_intent-followup"
  - request.queryResult.outputContexts[9].lifespanCount: 2
  - request.queryResult.outputContexts[9].parameters.quantity: ""
  - request.queryResult.outputContexts[9].parameters["quantity.original"]: ""
  - request.queryResult.outputContexts[9].parameters.geo_country: ""
  - request.queryResult.outputContexts[9].parameters["geo_country.original"]: ""
  - request.queryResult.outputContexts[9].parameters.emission_type: ""
  - request.queryResult.outputContexts[9].parameters["emission_type.original"]: ""
  - request.originalDetectIntentRequest.payload.inputs[0].rawInputs[0].query: "how about in 11 units"
  - request.originalDetectIntentRequest.payload.inputs[0].rawInputs[0].inputType: "KEYBOARD"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[0].name: "text"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[0].textValue: "how about in 11 units"
  - request.originalDetectIntentRequest.payload.inputs[0].arguments[0].rawText: "how about in 11 units"
  - request.originalDetectIntentRequest.payload.inputs[0].intent: "actions.intent.TEXT"
  - request.originalDetectIntentRequest.payload.surface.capabilities[0].name: "actions.capability.SCREEN_OUTPUT"
  - request.originalDetectIntentRequest.payload.surface.capabilities[1].name: "actions.capability.MEDIA_RESPONSE_AUDIO"
  - request.originalDetectIntentRequest.payload.surface.capabilities[2].name: "actions.capability.AUDIO_OUTPUT"
  - request.originalDetectIntentRequest.payload.surface.capabilities[3].name: "actions.capability.ACCOUNT_LINKING"
  - request.originalDetectIntentRequest.payload.surface.capabilities[4].name: "actions.capability.WEB_BROWSER"
  - request.originalDetectIntentRequest.payload.availableSurfaces[0].capabilities[0].name: "actions.capability.WEB_BROWSER"
  - request.originalDetectIntentRequest.payload.availableSurfaces[0].capabilities[1].name: "actions.capability.AUDIO_OUTPUT"
  - request.originalDetectIntentRequest.payload.availableSurfaces[0].capabilities[2].name: "actions.capability.SCREEN_OUTPUT"
  - request.originalDetectIntentRequest.payload.user.userStorage: "{\"data\":{\"noPermission\":false,\"lastParams\":{\"quantity\":\"100\",\"emission_type\":\"\",\"geo_country\":\"\"},\"name\":{\"display\":\"Stream Co\",\"family\":\"Co\",\"given\":\"Stream\"},\"location\":{\"coordinates\":{\"latitude\":20.26828,\"longitude\":85.7769064},\"formattedAddress\":\"Khandagiri, Bhubaneswar, Odisha \",\"city\":\"Bhubaneswar\"}}}"
  - payload.google.richResponse.items[0].simpleResponse.displayText: "Carbon Dioxide: 75.2534108 kg.\nNitrous Oxide: 0.001015 kg.\nMethane: 0.001027 kg."
  - payload.google.richResponse.items[1].basicCard.formattedText: "To see some visuals click the button"
  - payload.google.richResponse.items[1].basicCard.buttons[0].title: "See More"
  - payload.google.richResponse.items[1].basicCard.buttons[0].openUrlAction.url: "https://carbonhub.org/visuals/electricity"
---